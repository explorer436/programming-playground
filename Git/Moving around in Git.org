* Moving around in Git

*** HEAD

First we have to talk about "HEAD". HEAD is the symbolic name for the currently checked out commit -- it's essentially what commit you're working on top of.

HEAD always points to the most recent commit which is reflected in the working tree. Most git commands which make changes to the working tree will start by changing HEAD.

Normally HEAD points to a branch name (like bugFix). When you commit, the status of bugFix is altered and this change is visible through HEAD.

[[./images/GitNotes_936b0864_05.png]]

This would result in the following:

[[./images/GitNotes_936b0864_06.png]]

** Detatching HEAD

[[./images/GitNotes_936b0864_07.png]]

This would result in the following:

[[./images/GitNotes_936b0864_08.png]]

** Relative Refs

Specifying commits by their hash isn't the most convenient thing ever, which is why Git has relative refs.

With relative refs, you can start somewhere memorable (like the branch bugFix or HEAD) and work from there.

Relative commits are powerful, but we will introduce two simple ones here:

1) Moving upwards one commit at a time with the Caret (*^*) operator.
2) Moving upwards a number of times with The *~* operator. *~<num>*

*** Refer to the parent commit using the Caret (^) operator   

[[./images/GitNotes_936b0864_09.png]]

This would result in the following:

[[./images/GitNotes_936b0864_10.png]]

Using HEAD as a relative ref:

[[./images/GitNotes_936b0864_11.png]]

This would result in the following:

[[./images/GitNotes_936b0864_12.png]]

The ^ and ~ modifiers can make moving around a commit tree very powerful:

[[./images/GitNotes_936b0864_23.png]]

This would result in:

[[./images/GitNotes_936b0864_24.png]]

These modifiers can be chained together!

[[./images/GitNotes_936b0864_25.png]]

The same movement as before, but all in one command.

*** Move up in the commit tree using the ~ operator   

Say you want to move a lot of levels up in the commit tree. It might be tedious to type ^ several times, so Git also has the tilde (~) operator.

The tilde operator (optionally) takes in a trailing number that specifies the number of parents you would like to ascend.

[[./images/GitNotes_936b0864_13.png]]

This would result in the following:

[[./images/GitNotes_936b0864_14.png]]

** Branch forcing

Let's actually use relative refs for something.

One of the most common ways to use relative refs is to move branches around. You can directly reassign a branch to a commit with the -f option. So something like:

#+begin_src 
git branch -f main HEAD~3
#+end_src

moves (by force) the main branch to three parents behind HEAD.

[[./images/GitNotes_936b0864_15.png]]

This would result in the following:

[[./images/GitNotes_936b0864_16.png]]
